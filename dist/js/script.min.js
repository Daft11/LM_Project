window.onload=()=>{const e=document.getElementById("filter_btn");document.getElementById("slideBar");choiceBox.linkButton(),e.addEventListener("click",filterObj.openFilters),filterObj.getMaterialsIds().forEach((e,t)=>{(e=document.getElementById(e)).addEventListener("click",(function(e){let i=filterObj.getSortCovers();!0===e.target.checked?i[t].forEach(e=>document.getElementById(e).checked=!0):i[t].forEach(e=>document.getElementById(e).checked=!1)}))})};const filterObj={itemsArray:[{idFacade:"resh_blue",idMaterial:"mdf",idCover:"pet"},{idFacade:"resh_white",idMaterial:"mdf",idCover:"pet"},{idFacade:"berlin",idMaterial:"mdf",idCover:"pvh"},{idFacade:"megion",idMaterial:"mdf",idCover:"pvh"},{idFacade:"asha_white",idMaterial:"dsp",idCover:"lak"},{idFacade:"asha_green",idMaterial:"dsp",idCover:"lak"},{idFacade:"asha_red",idMaterial:"dsp",idCover:"lak"},{idFacade:"asha_beige",idMaterial:"dsp",idCover:"lak"},{idFacade:"nordic",idMaterial:"dsp",idCover:"ldsp"},{idFacade:"birsk",idMaterial:"dsp",idCover:"plastic"},{idFacade:"fatezh",idMaterial:"dsp",idCover:"ldsp"},{idFacade:"rouza",idMaterial:"dsp",idCover:"ldsp"},{idFacade:"nevel",idMaterial:"massive",idCover:"paint"},{idFacade:"newport_taupe",idMaterial:"mdf",idCover:"pvh"},{idFacade:"newport_white",idMaterial:"mdf",idCover:"pvh"},{idFacade:"oxford",idMaterial:"mdf",idCover:"pvh"},{idFacade:"petergof",idMaterial:"mdf",idCover:"pvh"},{idFacade:"plast",idMaterial:"dsp",idCover:"ldsp"},{idFacade:"santiago",idMaterial:"dsp",idCover:"ldsp"},{idFacade:"sofia",idMaterial:"dsp",idCover:"ldsp"},{idFacade:"tomari",idMaterial:"mdf",idCover:"pvh"}],getMaterialsIds(){const e=[];return filterObj.itemsArray.forEach(t=>{e.includes(t.idMaterial)||e.push(t.idMaterial)}),e},getCoversIds(){const e=[];return filterObj.itemsArray.forEach(t=>{e.includes(t.idCover)||e.push(t.idCover)}),e},getSortCovers(){const e=filterObj.getMaterialsIds(),t=[];return e.forEach(e=>{const i=[];filterObj.itemsArray.forEach(t=>{t.idMaterial===e&&(i.includes(t.idCover)||i.push(t.idCover))}),t.push(i)}),t},openFilters(){document.getElementById("filter_submit-btn").addEventListener("click",filterObj.submitFilters),document.getElementById("filter_clear-btn").addEventListener("click",filterObj.clearFilters),document.addEventListener("click",(function(e){document.getElementById("facade__filter").contains(e.target)||filterObj.sidebarHide()})),"510px"==slideBar.style.height?filterObj.sidebarHide():filterObj.sidebarShow()},submitFilters(){const e=filterObj.getMaterialsIds(),t=filterObj.getCoversIds();filterObj.reloadFilter(),filterObj.filterCheckLoop(e),filterObj.filterCheckLoop(t),filterObj.sidebarHide(),concat()},reloadFilter(){filterObj.itemsArray.forEach(e=>document.getElementById(e.idFacade).style.display="flex")},sidebarHide(){slideBar.style.height="50px",filter_btn.className="filter__btn"},sidebarShow(){slideBar.style.height="510px",filter_btn.className+="_after"},clearFilters(){filterObj.itemsArray.forEach(e=>{document.getElementById(e.idMaterial).checked=!1,document.getElementById(e.idCover).checked=!1}),filterObj.submitFilters()},filterCheckLoop(e){let t,i=[];if(e.forEach(e=>{t=document.getElementById(e),!0===t.checked&&i.push(e)}),i.length>0)return i=e.filter(e=>i.includes(e)),filterObj.filterAction(i)},filterAction(e){const t=[];filterObj.itemsArray.filter(t=>!e.includes(t.idMaterial)&&!e.includes(t.idCover)).forEach(e=>t.push(e.idFacade));for(var i=0;i<t.length;i++)document.getElementById(t[i]).style.display="none";return t}};concat=()=>{const e=filterObj.getMaterialsIds(),t=filterObj.getCoversIds();let i=[];i=i.concat(filterObj.filterCheckLoop(e)),i=i.concat(filterObj.filterCheckLoop(t)),i=i.reduce((e,t)=>e.includes(t)||null==t?e:[...e,t],[]),document.getElementById("filter_info").innerHTML="Показано "+(filterObj.itemsArray.length-i.length)+" из "+filterObj.itemsArray.length};const choiceBox={currentItemId:null,currentAreaHeight:null,correctAreaHeight:"100px",currentName:null,currentImgSrc:null,linkButton(){const e=document.getElementsByClassName("item__choice-button");for(let t of e)t.addEventListener("click",choiceBox.action)},action(e){choiceBox.showArea(),choiceBox.currentItemId=e.target.parentElement.id,choiceBox.currentName=e.target.parentElement.getElementsByClassName("item__name")[0].innerHTML,choiceBox.currentImgSrc=e.target.parentElement.getElementsByClassName("item__img")[0].src,choiceBox.currentAreaHeight=document.getElementById("select__area").style.height,document.getElementById("selected__facade__name").innerHTML=choiceBox.currentName,document.getElementById("selected__facade__img").src=choiceBox.currentImgSrc},showArea(){choiceBox.currentAreaHeight!=choiceBox.correctAreaHeight&&(document.getElementById("select__area").style.height=choiceBox.correctAreaHeight)}};function hide(){document.getElementById("select__area").style.height=0,choiceBox.currentAreaHeight=document.getElementById("select__area").style.height}