window.onload=()=>{const e=document.getElementById("filter_btn");document.getElementById("slideBar");e.addEventListener("click",filterObj.openFilters),filterObj.getMaterialsIds().forEach((e,i)=>{(e=document.getElementById(e)).addEventListener("click",(function(e){let t=filterObj.getSortCovers();!0===e.target.checked?t[i].forEach(e=>document.getElementById(e).checked=!0):t[i].forEach(e=>document.getElementById(e).checked=!1)}))})};const filterObj={itemsArray:[{idFacade:"resh_blue",idMaterial:"mdf",idCover:"pet"},{idFacade:"resh_white",idMaterial:"mdf",idCover:"pet"},{idFacade:"berlin",idMaterial:"mdf",idCover:"pvh"},{idFacade:"megion",idMaterial:"mdf",idCover:"pvh"},{idFacade:"asha_white",idMaterial:"dsp",idCover:"lak"},{idFacade:"asha_green",idMaterial:"dsp",idCover:"lak"},{idFacade:"asha_red",idMaterial:"dsp",idCover:"lak"},{idFacade:"asha_beige",idMaterial:"dsp",idCover:"lak"},{idFacade:"nordic",idMaterial:"dsp",idCover:"ldsp"},{idFacade:"birsk",idMaterial:"dsp",idCover:"plastic"},{idFacade:"fatezh",idMaterial:"dsp",idCover:"ldsp"},{idFacade:"rouza",idMaterial:"dsp",idCover:"ldsp"},{idFacade:"nevel",idMaterial:"massive",idCover:"paint"},{idFacade:"newport_taupe",idMaterial:"mdf",idCover:"pvh"},{idFacade:"newport_white",idMaterial:"mdf",idCover:"pvh"},{idFacade:"oxford",idMaterial:"mdf",idCover:"pvh"},{idFacade:"petergof",idMaterial:"mdf",idCover:"pvh"},{idFacade:"plast",idMaterial:"dsp",idCover:"ldsp"},{idFacade:"santiago",idMaterial:"dsp",idCover:"ldsp"},{idFacade:"sofia",idMaterial:"dsp",idCover:"ldsp"},{idFacade:"tomari",idMaterial:"mdf",idCover:"pvh"}],getMaterialsIds(){const e=[];return filterObj.itemsArray.forEach(i=>{e.includes(i.idMaterial)||e.push(i.idMaterial)}),e},getCoversIds(){const e=[];return filterObj.itemsArray.forEach(i=>{e.includes(i.idCover)||e.push(i.idCover)}),e},getSortCovers(){const e=filterObj.getMaterialsIds(),i=[];return e.forEach(e=>{const t=[];filterObj.itemsArray.forEach(i=>{i.idMaterial===e&&(t.includes(i.idCover)||t.push(i.idCover))}),i.push(t)}),i},openFilters(){document.getElementById("filter_submit-btn").addEventListener("click",filterObj.submitFilters),document.getElementById("filter_clear-btn").addEventListener("click",filterObj.clearFilters),document.addEventListener("click",(function(e){document.getElementById("facade__filter").contains(e.target)||filterObj.sidebarHide()})),"510px"==slideBar.style.height?filterObj.sidebarHide():filterObj.sidebarShow()},submitFilters(){const e=filterObj.getMaterialsIds(),i=filterObj.getCoversIds();filterObj.reloadFilter(),filterObj.filterCheckLoop(e),filterObj.filterCheckLoop(i),filterObj.sidebarHide(),concat()},reloadFilter(){filterObj.itemsArray.forEach(e=>document.getElementById(e.idFacade).style.display="flex")},sidebarHide(){slideBar.style.height="50px",filter_btn.className="filter__btn"},sidebarShow(){slideBar.style.height="510px",filter_btn.className+="_after"},clearFilters(){filterObj.itemsArray.forEach(e=>{document.getElementById(e.idMaterial).checked=!1,document.getElementById(e.idCover).checked=!1}),filterObj.submitFilters()},filterCheckLoop(e){let i,t=[];if(e.forEach(e=>{i=document.getElementById(e),!0===i.checked&&t.push(e)}),t.length>0)return t=e.filter(e=>t.includes(e)),filterObj.filterAction(t)},filterAction(e){const i=[];filterObj.itemsArray.filter(i=>!e.includes(i.idMaterial)&&!e.includes(i.idCover)).forEach(e=>i.push(e.idFacade));for(var t=0;t<i.length;t++)document.getElementById(i[t]).style.display="none";return i}};concat=()=>{const e=filterObj.getMaterialsIds(),i=filterObj.getCoversIds();let t=[];t=t.concat(filterObj.filterCheckLoop(e)),t=t.concat(filterObj.filterCheckLoop(i)),t=t.reduce((e,i)=>e.includes(i)||null==i?e:[...e,i],[]),document.getElementById("filter_info").innerHTML="Показано "+(filterObj.itemsArray.length-t.length)+" из "+filterObj.itemsArray.length};